#!/usr/bin/env zsh

git submodule update --init --recursive

for f in .zshrc .screenrc .emacs.d .vim .vim/.vimrc .calendar
do
  [ ~/$f:t -ef $(pwd)/$f ] || {
    echo symlinking $f 
    [ -e ~/$f:t -o -h ~/$f:t ] && mv ~/$f:t ~/$f:t.$(date +%Y%m%d%H%M%S)
    ln -s $(pwd)/$f ~/$f:t
  }
done

cd .emacs.d/vendor/pymacs
make && python setup.py install --user
